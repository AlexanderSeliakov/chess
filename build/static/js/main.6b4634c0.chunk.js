(this["webpackJsonpchess-react"]=this["webpackJsonpchess-react"]||[]).push([[0],{16:function(e,i,s){},17:function(e,i,s){"use strict";s.r(i);var t,c=s(1),n=s.n(c),l=s(7),o=s.n(l),h=s(5),a=s(2),r=s(3),u=function(){function e(i,s,t,c,n){Object(a.a)(this,e),this.board=void 0,this.x=void 0,this.y=void 0,this.color=void 0,this.chessPiece=void 0,this.available=void 0,this.id=void 0,this.board=i,this.x=s,this.y=t,this.color=c,this.chessPiece=n,this.available=!1,this.id=Math.random()}return Object(r.a)(e,[{key:"isEmpty",value:function(){return console.log(this.chessPiece,"this.chessPiece, isEmpty"),console.log(this.board.getCell(this.x,this.y),"this.board.getCell(this.x, y)"),null===this.chessPiece}},{key:"isEnemy",value:function(e){var i;return!!e.chessPiece&&(null===(i=this.chessPiece)||void 0===i?void 0:i.color)!==e.chessPiece.color}},{key:"isEmptyVertical",value:function(e){if(this.x!==e.x)return!1;for(var i=Math.min(this.y,e.y),s=Math.max(this.y,e.y),t=i+1;t<s;t++)if(!this.board.getCell(this.x,t).isEmpty())return!1;return!0}},{key:"isEmptyHorizontal",value:function(e){if(this.y!==e.y)return!1;for(var i=Math.min(this.x,e.x),s=Math.max(this.x,e.x),t=i+1;t<s;t++)if(!this.board.getCell(t,this.y).isEmpty())return!1;return!0}},{key:"isEmptyDiagonal",value:function(e){var i=Math.abs(e.x-this.x),s=Math.abs(e.y-this.y);if(i!==s)return!1;for(var t=this.y<e.y?1:-1,c=this.x<e.x?1:-1,n=1;n<s;n++)if(!this.board.getCell(this.x+c*n,this.y+t*n).isEmpty())return!1;return!0}},{key:"setChessPiece",value:function(e){this.chessPiece=e,this.chessPiece.cell=this}},{key:"moveChessPiece",value:function(e){var i;(null===(i=this.chessPiece)||void 0===i?void 0:i.canMove(e))&&(this.chessPiece.moveChessPiece(e),e.chessPiece&&this.board.addLostFigure(e.chessPiece),e.setChessPiece(this.chessPiece),this.chessPiece=null)}}]),e}();!function(e){e.white="white",e.black="black"}(t||(t={}));var v,d=s(9),b=s(4),f=s(10),y=s(8);!function(e){e.ChessPiece="chessPiece",e.Pawn="pawn",e.King="king",e.Queen="queen",e.Rook="rook",e.Bishop="bishop",e.Knight="knight"}(v||(v={}));var P=function(e){Object(f.a)(s,e);var i=Object(y.a)(s);function s(e,c){var n;return Object(a.a)(this,s),(n=i.call(this,e,c)).black="assets/black-bishop.png",n.white="assets/white-bishop.png",n.ChessPieceLogo=e===t.black?n.black:n.white,n.ChessPieceName=v.Bishop,n}return Object(r.a)(s,[{key:"canMove",value:function(e){return!!Object(d.a)(Object(b.a)(s.prototype),"canMove",this).call(this,e)&&!!this.cell.isEmptyDiagonal(e)}}]),s}(function(){function e(i,s){Object(a.a)(this,e),this.color=void 0,this.cell=void 0,this.ChessPieceLogo=void 0,this.ChessPieceName=void 0,this.id=void 0,this.color=i,this.cell=s,this.cell.chessPiece=this,this.ChessPieceLogo=null,this.ChessPieceName=v.ChessPiece,this.id=Math.random()}return Object(r.a)(e,[{key:"canMove",value:function(e){var i,s;return(null===(i=e.chessPiece)||void 0===i?void 0:i.color)!==this.color&&(null===(s=e.chessPiece)||void 0===s?void 0:s.ChessPieceName)!==v.King}},{key:"moveChessPiece",value:function(e){console.log("moveChessPiece")}}]),e}()),j=function(){function e(){Object(a.a)(this,e),this.cells=[],this.lostBlack=[],this.lostWhite=[],this.rows=8,this.columns=8}return Object(r.a)(e,[{key:"initCells",value:function(){for(var e=0;e<this.rows;e++){for(var i=[],s=0;s<this.columns;s++)(e+s)%2!==0?i.push(new u(this,s,e,t.black,null)):i.push(new u(this,s,e,t.white,null));this.cells.push(i)}}},{key:"highlightCells",value:function(e){for(var i=0;i<this.cells.length;i++)for(var s=this.cells[i],t=0;t<s.length;t++){var c,n=s[t];n.available=!!(null===e||void 0===e||null===(c=e.chessPiece)||void 0===c?void 0:c.canMove(n))}}},{key:"getCopyBoard",value:function(){var i=new e;return i.cells=this.cells,i}},{key:"addLostFigure",value:function(e){e.color===t.black?this.lostBlack.push(e):this.lostWhite.push(e)}},{key:"getCell",value:function(e,i){return this.cells[i][e]}},{key:"addPawns",value:function(){}},{key:"addKings",value:function(){}},{key:"addQueens",value:function(){}},{key:"addBishops",value:function(){new P(t.black,this.getCell(2,0)),new P(t.black,this.getCell(5,0)),new P(t.white,this.getCell(5,7)),new P(t.white,this.getCell(2,7))}},{key:"addKnights",value:function(){}},{key:"addRooks",value:function(){}},{key:"initClassicChess",value:function(){this.addKings(),this.addQueens(),this.addBishops(),this.addKnights(),this.addRooks(),this.addPawns()}}]),e}(),k=function e(i){Object(a.a)(this,e),this.color=void 0,this.color=i},g=s(0),C=function(e){var i,s=e.cell,t=e.selected,c=e.click;return Object(g.jsxs)("div",{className:["cell",s.color,t&&"selected",s.available&&s.chessPiece&&"eatable"].join(" "),onClick:function(){return c(s)},children:[!s.chessPiece&&s.available&&Object(g.jsx)("div",{className:"available"}),(null===(i=s.chessPiece)||void 0===i?void 0:i.ChessPieceLogo)&&Object(g.jsx)("img",{src:s.chessPiece.ChessPieceLogo})]})},p=function(e){var i=e.board,s=e.setBoard,t=e.currentPlayer,l=e.swapPlayer,o=Object(c.useState)(null),a=Object(h.a)(o,2),r=a[0],u=a[1],v=function(e){var i,s;r&&r!==e&&(null===r||void 0===r||null===(i=r.chessPiece)||void 0===i?void 0:i.canMove(e))?(r.moveChessPiece(e),l(),u(null)):(null===(s=e.chessPiece)||void 0===s?void 0:s.color)===(null===t||void 0===t?void 0:t.color)&&u(e)};Object(c.useEffect)((function(){d()}),[r]);var d=function(){i.highlightCells(r),b()},b=function(){var e=i.getCopyBoard();s(e)};return Object(g.jsxs)("div",{children:[Object(g.jsxs)("h3",{children:[" Current Player: ",null===t||void 0===t?void 0:t.color," "]}),Object(g.jsx)("div",{className:"board",children:i.cells.map((function(e,i){return Object(g.jsx)(n.a.Fragment,{children:e.map((function(e){return Object(g.jsx)(C,{click:v,cell:e,selected:e.x===(null===r||void 0===r?void 0:r.x)&&e.y===(null===r||void 0===r?void 0:r.y)},e.id)}))},i)}))})]})};s(16);var m=function(){var e=Object(c.useState)(new j),i=Object(h.a)(e,2),s=i[0],n=i[1],l=Object(c.useState)(new k(t.white)),o=Object(h.a)(l,2),a=o[0],r=(o[1],Object(c.useState)(new k(t.black))),u=Object(h.a)(r,2),v=u[0],d=(u[1],Object(c.useState)(null)),b=Object(h.a)(d,2),f=b[0],y=b[1];function P(){var e=new j;e.initCells(),e.initClassicChess(),y(a),n(e)}return Object(c.useEffect)((function(){P(),y(a)}),[]),Object(g.jsx)("div",{className:"app",children:Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{className:"restart",onClick:P,children:"Restart"}),Object(g.jsx)(p,{board:s,setBoard:n,currentPlayer:f,swapPlayer:function(){y((null===f||void 0===f?void 0:f.color)===t.white?v:a)}})]})})};o.a.render(Object(g.jsx)(m,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.6b4634c0.chunk.js.map