(this["webpackJsonpchess-react"]=this["webpackJsonpchess-react"]||[]).push([[0],{16:function(e,t,i){},17:function(e,t,i){"use strict";i.r(t);var s,c=i(4),l=i.n(c),a=i(10),n=i.n(a),h=i(8),o=i(0),r=i(2),u=function(){function e(t,i,s,c,l){Object(o.a)(this,e),this.board=void 0,this.x=void 0,this.y=void 0,this.color=void 0,this.chessPiece=void 0,this.available=void 0,this.id=void 0,this.board=t,this.x=i,this.y=s,this.color=c,this.chessPiece=l,this.available=!1,this.id=Math.random()}return Object(r.a)(e,[{key:"isEmpty",value:function(){return console.log(this.chessPiece,"this.chessPiece, isEmpty"),console.log(this.board.getCell(this.x,this.y),"this.board.getCell(this.x, y)"),null===this.chessPiece}},{key:"isEnemy",value:function(e){var t;return!!e.chessPiece&&(null===(t=this.chessPiece)||void 0===t?void 0:t.color)!==e.chessPiece.color}},{key:"isEmptyVertical",value:function(e){if(this.x!==e.x)return!1;for(var t=Math.min(this.y,e.y),i=Math.max(this.y,e.y),s=t+1;s<i;s++)if(!this.board.getCell(this.x,s).isEmpty())return!1;return!0}},{key:"isEmptyHorizontal",value:function(e){if(this.y!==e.y)return!1;for(var t=Math.min(this.x,e.x),i=Math.max(this.x,e.x),s=t+1;s<i;s++)if(!this.board.getCell(s,this.y).isEmpty())return!1;return!0}},{key:"isEmptyDiagonal",value:function(e){var t=Math.abs(e.x-this.x),i=Math.abs(e.y-this.y);if(t!==i)return!1;for(var s=this.y<e.y?1:-1,c=this.x<e.x?1:-1,l=1;l<i;l++)if(!this.board.getCell(this.x+c*l,this.y+s*l).isEmpty())return!1;return!0}},{key:"setChessPiece",value:function(e){this.chessPiece=e,this.chessPiece.cell=this}},{key:"moveChessPiece",value:function(e){var t;(null===(t=this.chessPiece)||void 0===t?void 0:t.canMove(e))&&(this.chessPiece.moveChessPiece(e),e.chessPiece&&this.board.addLostFigure(e.chessPiece),e.setChessPiece(this.chessPiece),this.chessPiece=null)}}]),e}();!function(e){e.white="white",e.black="black"}(s||(s={}));var v,b=i(5),d=i(3),y=i(7),k=i(6);!function(e){e.ChessPiece="chessPiece",e.Pawn="pawn",e.King="king",e.Queen="queen",e.Rook="rook",e.Bishop="bishop",e.Knight="knight"}(v||(v={}));var f=function(){function e(t,i){Object(o.a)(this,e),this.color=void 0,this.cell=void 0,this.ChessPieceLogo=void 0,this.ChessPieceName=void 0,this.id=void 0,this.color=t,this.cell=i,this.cell.chessPiece=this,this.ChessPieceLogo=null,this.ChessPieceName=v.ChessPiece,this.id=Math.random()}return Object(r.a)(e,[{key:"canMove",value:function(e){var t,i;return(null===(t=e.chessPiece)||void 0===t?void 0:t.color)!==this.color&&(null===(i=e.chessPiece)||void 0===i?void 0:i.ChessPieceName)!==v.King}},{key:"moveChessPiece",value:function(e){console.log("moveChessPiece")}}]),e}(),j=function(e){Object(y.a)(i,e);var t=Object(k.a)(i);function i(e,c){var l;return Object(o.a)(this,i),(l=t.call(this,e,c)).black="assets/black-bishop.png",l.white="assets/white-bishop.png",l.ChessPieceLogo=e===s.black?l.black:l.white,l.ChessPieceName=v.Bishop,l}return Object(r.a)(i,[{key:"canMove",value:function(e){return!!Object(b.a)(Object(d.a)(i.prototype),"canMove",this).call(this,e)&&!!this.cell.isEmptyDiagonal(e)}}]),i}(f),g=function(e){Object(y.a)(i,e);var t=Object(k.a)(i);function i(e,c){var l;return Object(o.a)(this,i),(l=t.call(this,e,c)).black="assets/black-king.png",l.white="assets/white-king.png",l.ChessPieceLogo=e===s.black?l.black:l.white,l.ChessPieceName=v.King,l}return Object(r.a)(i,[{key:"canMove",value:function(e){if(!Object(b.a)(Object(d.a)(i.prototype),"canMove",this).call(this,e))return!1;var t=Math.abs(this.cell.x-e.x),s=Math.abs(this.cell.y-e.y);return t>=-1&&t<=1&&s>=-1&&s<=1}}]),i}(f),p=function(e){Object(y.a)(i,e);var t=Object(k.a)(i);function i(e,c){var l;return Object(o.a)(this,i),(l=t.call(this,e,c)).black="assets/black-knight.png",l.white="assets/white-knight.png",l.ChessPieceLogo=e===s.black?l.black:l.white,l.ChessPieceName=v.Knight,l}return Object(r.a)(i,[{key:"canMove",value:function(e){if(!Object(b.a)(Object(d.a)(i.prototype),"canMove",this).call(this,e))return!1;var t=Math.abs(this.cell.x-e.x),s=Math.abs(this.cell.y-e.y);return 1===t&&2===s||2===t&&1===s}}]),i}(f),w=function(e){Object(y.a)(i,e);var t=Object(k.a)(i);function i(e,c){var l;return Object(o.a)(this,i),(l=t.call(this,e,c)).black="assets/black-pawn.png",l.white="assets/white-pawn.png",l.isFirstStep=!0,l.ChessPieceLogo=e===s.black?l.black:l.white,l.ChessPieceName=v.Pawn,l}return Object(r.a)(i,[{key:"canMove",value:function(e){var t,c;if(!Object(b.a)(Object(d.a)(i.prototype),"canMove",this).call(this,e))return!1;var l=(null===(t=this.cell.chessPiece)||void 0===t?void 0:t.color)===s.black?1:-1,a=(null===(c=this.cell.chessPiece)||void 0===c?void 0:c.color)===s.black?2:-2;return!(!(e.y===this.cell.y+l||this.isFirstStep&&e.y===this.cell.y+a)||e.x!==this.cell.x||!this.cell.board.getCell(e.x,e.y).isEmpty())||!(e.y!==this.cell.y+l||e.x!==this.cell.x+1&&e.x!==this.cell.x-1||!this.cell.isEnemy(e))}},{key:"moveChessPiece",value:function(e){var t;Object(b.a)(Object(d.a)(i.prototype),"moveChessPiece",this).call(this,e),this.isFirstStep=!1,console.log(null===(t=this.cell.chessPiece)||void 0===t?void 0:t.color,this.color)}}]),i}(f),O=function(e){Object(y.a)(i,e);var t=Object(k.a)(i);function i(e,c){var l;return Object(o.a)(this,i),(l=t.call(this,e,c)).black="assets/black-queen.png",l.white="assets/white-queen.png",l.ChessPieceLogo=e===s.black?l.black:l.white,l.ChessPieceName=v.Queen,l}return Object(r.a)(i,[{key:"canMove",value:function(e){return!!Object(b.a)(Object(d.a)(i.prototype),"canMove",this).call(this,e)&&(!!this.cell.isEmptyVertical(e)||(!!this.cell.isEmptyHorizontal(e)||!!this.cell.isEmptyDiagonal(e)))}}]),i}(f),P=function(e){Object(y.a)(i,e);var t=Object(k.a)(i);function i(e,c){var l;return Object(o.a)(this,i),(l=t.call(this,e,c)).black="assets/black-queen.png",l.white="assets/white-queen.png",l.ChessPieceLogo=e===s.black?l.black:l.white,l.ChessPieceName=v.Rook,l}return Object(r.a)(i,[{key:"canMove",value:function(e){return!!Object(b.a)(Object(d.a)(i.prototype),"canMove",this).call(this,e)&&(!!this.cell.isEmptyVertical(e)||!!this.cell.isEmptyHorizontal(e))}}]),i}(f),C=function(){function e(){Object(o.a)(this,e),this.cells=[],this.lostBlack=[],this.lostWhite=[],this.rows=8,this.columns=8}return Object(r.a)(e,[{key:"initCells",value:function(){for(var e=0;e<this.rows;e++){for(var t=[],i=0;i<this.columns;i++)(e+i)%2!==0?t.push(new u(this,i,e,s.black,null)):t.push(new u(this,i,e,s.white,null));this.cells.push(t)}}},{key:"highlightCells",value:function(e){for(var t=0;t<this.cells.length;t++)for(var i=this.cells[t],s=0;s<i.length;s++){var c,l=i[s];l.available=!!(null===e||void 0===e||null===(c=e.chessPiece)||void 0===c?void 0:c.canMove(l))}}},{key:"getCopyBoard",value:function(){var t=new e;return t.cells=this.cells,t}},{key:"addLostFigure",value:function(e){e.color===s.black?this.lostBlack.push(e):this.lostWhite.push(e)}},{key:"getCell",value:function(e,t){return this.cells[t][e]}},{key:"addPawns",value:function(){for(var e=0;e<8;e++)new w(s.black,this.getCell(e,1)),new w(s.white,this.getCell(e,6))}},{key:"addKings",value:function(){new g(s.black,this.getCell(4,0)),new g(s.white,this.getCell(4,7))}},{key:"addQueens",value:function(){new O(s.black,this.getCell(3,0)),new O(s.white,this.getCell(3,7))}},{key:"addBishops",value:function(){new j(s.black,this.getCell(2,0)),new j(s.black,this.getCell(5,0)),new j(s.white,this.getCell(5,7)),new j(s.white,this.getCell(2,7))}},{key:"addKnights",value:function(){new p(s.black,this.getCell(1,0)),new p(s.black,this.getCell(6,0)),new p(s.white,this.getCell(1,7)),new p(s.white,this.getCell(6,7))}},{key:"addRooks",value:function(){new P(s.black,this.getCell(0,0)),new P(s.black,this.getCell(7,0)),new P(s.white,this.getCell(0,7)),new P(s.white,this.getCell(7,7))}},{key:"initClassicChess",value:function(){this.addKings(),this.addQueens(),this.addBishops(),this.addKnights(),this.addRooks(),this.addPawns()}}]),e}(),m=function e(t){Object(o.a)(this,e),this.color=void 0,this.color=t},x=i(1),M=function(e){var t,i=e.cell,s=e.selected,c=e.click;return Object(x.jsxs)("div",{className:["cell",i.color,s&&"selected",i.available&&i.chessPiece&&"eatable"].join(" "),onClick:function(){return c(i)},children:[!i.chessPiece&&i.available&&Object(x.jsx)("div",{className:"available"}),(null===(t=i.chessPiece)||void 0===t?void 0:t.ChessPieceLogo)&&Object(x.jsx)("img",{src:i.chessPiece.ChessPieceLogo})]})},E=function(e){var t=e.board,i=e.setBoard,s=e.currentPlayer,a=e.swapPlayer,n=Object(c.useState)(null),o=Object(h.a)(n,2),r=o[0],u=o[1],v=function(e){var t,i;r&&r!==e&&(null===r||void 0===r||null===(t=r.chessPiece)||void 0===t?void 0:t.canMove(e))?(r.moveChessPiece(e),a(),u(null)):(null===(i=e.chessPiece)||void 0===i?void 0:i.color)===(null===s||void 0===s?void 0:s.color)&&u(e)};Object(c.useEffect)((function(){b()}),[r]);var b=function(){t.highlightCells(r),d()},d=function(){var e=t.getCopyBoard();i(e)};return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h3",{children:[" Current Player: ",null===s||void 0===s?void 0:s.color," "]}),Object(x.jsx)("div",{className:"board",children:t.cells.map((function(e,t){return Object(x.jsx)(l.a.Fragment,{children:e.map((function(e){return Object(x.jsx)(M,{click:v,cell:e,selected:e.x===(null===r||void 0===r?void 0:r.x)&&e.y===(null===r||void 0===r?void 0:r.y)},e.id)}))},t)}))})]})};i(16);var N=function(){var e=Object(c.useState)(new C),t=Object(h.a)(e,2),i=t[0],l=t[1],a=Object(c.useState)(new m(s.white)),n=Object(h.a)(a,2),o=n[0],r=(n[1],Object(c.useState)(new m(s.black))),u=Object(h.a)(r,2),v=u[0],b=(u[1],Object(c.useState)(null)),d=Object(h.a)(b,2),y=d[0],k=d[1];function f(){var e=new C;e.initCells(),e.initClassicChess(),k(o),l(e)}return Object(c.useEffect)((function(){f(),k(o)}),[]),Object(x.jsx)("div",{className:"app",children:Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{className:"restart",onClick:f,children:"Restart"}),Object(x.jsx)(E,{board:i,setBoard:l,currentPlayer:y,swapPlayer:function(){k((null===y||void 0===y?void 0:y.color)===s.white?v:o)}})]})})};n.a.render(Object(x.jsx)(N,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.819cdffc.chunk.js.map