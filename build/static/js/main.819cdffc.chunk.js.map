{"version":3,"sources":["models/Colors.ts","models/Cell.ts","models/interfaces/uiInterfaces.ts","models/figures/ChessPiece.ts","models/figures/Bishop.ts","models/figures/King.ts","models/figures/Knight.ts","models/figures/Pawn.ts","models/figures/Queen.ts","models/figures/Rook.ts","models/Board.ts","models/Player.ts","Components/CellComponent.tsx","Components/BoardComponent.tsx","App.tsx","index.tsx"],"names":["Colors","Cell","board","x","y","color","chessPiece","available","id","this","Math","random","console","log","getCell","target","min","max","isEmpty","diagX","abs","diagY","dy","dx","i","cell","canMove","moveChessPiece","addLostFigure","setChessPiece","ChessPieceName","ChessPiece","ChessPieceLogo","King","Bishop","black","white","isEmptyDiagonal","Knight","Pawn","isFirstStep","direction","firstStepDirection","isEnemy","Queen","isEmptyVertical","isEmptyHorizontal","Rook","Board","cells","lostBlack","lostWhite","rows","columns","row","k","push","selectedCell","length","newBoard","addKings","addQueens","addBishops","addKnights","addRooks","addPawns","Player","CellComponent","selected","click","className","join","onClick","src","BoardComponent","setBoard","currentPlayer","swapPlayer","useState","setSelectedCell","clickCellHandler","useEffect","highlightCell","highlightCells","updateBoard","getCopyBoard","map","index","Fragment","App","whitePlayer","blackPlayer","setCurrentPlayer","startNewGame","initCells","initClassicChess","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.819cdffc.chunk.js","sourcesContent":["export enum Colors {\n  white = 'white',\n  black = 'black',\n}\n","import {\n   Board\n} from './Board';\nimport {\n   Colors\n} from './Colors';\nimport {\n   ChessPiece\n} from './figures/ChessPiece';\n\nexport class Cell {\n   /**\n    * Board\n    */\n   board: Board;\n\n   /**\n    * X coordinate of Cell\n    */\n   readonly x: number;\n\n   /**\n    * Y coordinate of Cell\n    */\n   readonly y: number;\n\n   /**\n    * Color of Cell\n    */\n   readonly color: Colors;\n\n   /**\n    * Chess Piece places on the Cell\n    */\n   chessPiece: ChessPiece | null;\n\n   /**\n    * Flag if this Cell available for selected figure\n    */\n   available: boolean;\n\n   /**\n    * Key\n    */\n   id: number;\n\n   constructor(\n      board: Board,\n      x: number,\n      y: number,\n      color: Colors,\n      chessPiece: ChessPiece | null,\n   ) {\n      this.board = board;\n      this.x = x;\n      this.y = y;\n      this.color = color;\n      this.chessPiece = chessPiece;\n      this.available = false;\n      this.id = Math.random();\n   }\n\n\n   isEmpty(){\n      console.log(this.chessPiece, 'this.chessPiece, isEmpty');\n      console.log(this.board.getCell(this.x, this.y), 'this.board.getCell(this.x, y)');\n      return this.chessPiece === null\n   }\n\n   /**\n    * Method check if cell contains enemy chessPiece\n    * @param target target cell\n    * @returns \n    */\n   isEnemy(target: Cell): boolean {\n      if(target.chessPiece){\n         return this.chessPiece?.color !== target.chessPiece.color\n      }\n      return false\n   }\n\n   /**\n    * Check how many available cells for next move\n    * @param target target cell\n    */\n   isEmptyVertical(target: Cell): boolean {\n      if(this.x !== target.x) {return false}\n\n      const min = Math.min(this.y, target.y)\n      const max = Math.max(this.y, target.y)\n\n      for (let y = min+1; y < max; y++) {\n         if(!this.board.getCell(this.x, y).isEmpty()){\n            return false\n         }\n      }\n      return true\n   }\n\n   isEmptyHorizontal(target: Cell): boolean { \n      if(this.y !== target.y) {return false}\n\n      const min = Math.min(this.x, target.x)\n      const max = Math.max(this.x, target.x)\n\n      for (let x = min+1; x < max; x++) {\n         if(!this.board.getCell(x, this.y).isEmpty()){\n            return false\n         }\n      }\n      return true\n   }\n\n   isEmptyDiagonal(target: Cell): boolean {\n      const diagX = Math.abs(target.x - this.x)\n      const diagY = Math.abs(target.y - this.y)\n\n      if(diagX !== diagY) return false\n\n      const dy = this.y < target.y ? 1 : -1\n      const dx = this.x < target.x ? 1 : -1\n\n      for (let i = 1; i < diagY; i++) {\n         if(!this.board.getCell(this.x + dx * i,  this.y + dy * i).isEmpty())\n            return false\n      }\n\n      return true\n\n   }\n\n   // Loop dependency!! cell <-> chessPiece\n   setChessPiece(chessPiece: ChessPiece){\n      this.chessPiece = chessPiece\n      this.chessPiece.cell = this\n   }\n\n\n   moveChessPiece(target: Cell) {\n      if (this.chessPiece?.canMove(target)) {\n         this.chessPiece.moveChessPiece(target)\n         if(target.chessPiece){\n            this.board.addLostFigure(target.chessPiece)\n         }\n         target.setChessPiece(this.chessPiece)\n         this.chessPiece = null\n      }\n   }\n}","import { Board } from '../Board';\nimport { Cell } from '../Cell';\nimport { Player } from '../Player';\n\nexport interface BoardProps {\n  board: Board,\n  setBoard: (board: Board) => void,\n  currentPlayer: Player | null,\n  swapPlayer: () => void\n}\n\nexport interface CellProps {\n  cell: Cell,\n  selected: boolean,\n  click: (cell: Cell) => void\n}\n\nexport enum ChessPieceName {\n  ChessPiece = 'chessPiece',\n  Pawn = 'pawn',\n  King = 'king',\n  Queen = 'queen',\n  Rook = 'rook',\n  Bishop = 'bishop',\n  Knight = 'knight',\n}\n","import { Colors } from '../Colors';\nimport logo from '../../assets/black-king.png';\nimport { Cell } from '../Cell';\nimport { ChessPieceName } from '../interfaces/uiInterfaces';\n\nexport class ChessPiece {\n  color: Colors;\n\n  cell: Cell;\n\n  ChessPieceLogo: typeof logo | null;\n\n  ChessPieceName: ChessPieceName;\n\n  id: number;\n\n  constructor(\n    color: Colors,\n    cell: Cell,\n  ) {\n    this.color = color;\n    this.cell = cell;\n    this.cell.chessPiece = this;\n    this.ChessPieceLogo = null;\n    this.ChessPieceName = ChessPieceName.ChessPiece;\n    this.id = Math.random();\n  }\n\n  /**\n   * Define where chess piece can go\n   * @param target clicked cell\n   * @returns  true or false\n   */\n  canMove(target: Cell): boolean {\n    //  Can't eat same color chessPiece\n    if(target.chessPiece?.color === this.color){\n      return false\n    }\n    // Can't eat the King\n    if(target.chessPiece?.ChessPieceName === ChessPieceName.King){\n      return false\n    }\n    return true\n  }\n\n  moveChessPiece(target: Cell): void {\n    console.log('moveChessPiece');\n    \n  }\n}\n","import { Cell } from \"../Cell\";\nimport { Colors } from \"../Colors\";\nimport { ChessPiece } from \"./ChessPiece\";\nimport { ChessPieceName } from \"../interfaces/uiInterfaces\";\nexport class Bishop extends ChessPiece {\n  // black img\n  black = 'assets/black-bishop.png';\n  // white img\n  white = 'assets/white-bishop.png';\n\n  constructor(color: Colors, cell: Cell) {\n    super(color, cell);\n    this.ChessPieceLogo = color === Colors.black ? this.black : this.white\n    this.ChessPieceName = ChessPieceName.Bishop\n  }\n\n  canMove(target: Cell): boolean {\n    if(!super.canMove(target))\n      return false\n    if(this.cell.isEmptyDiagonal(target))\n      return true;\n    return false\n  }\n}\n","import { Cell } from '../Cell';\nimport { Colors } from '../Colors';\nimport { ChessPiece } from './ChessPiece';\nimport { ChessPieceName } from '../interfaces/uiInterfaces';\nexport class King extends ChessPiece {\n  // black img\n  black = 'assets/black-king.png';\n  // white img\n  white = 'assets/white-king.png';\n  \n  constructor(color: Colors, cell: Cell) {\n    super(color, cell);\n    this.ChessPieceLogo = color === Colors.black ? this.black : this.white\n    this.ChessPieceName = ChessPieceName.King\n  }\n\n  canMove(target: Cell): boolean {\n    if(!super.canMove(target))\n      return false\n\n    const dx = Math.abs(this.cell.x - target.x)\n    const dy = Math.abs(this.cell.y - target.y)\n\n    return (dx >= -1 && dx <= 1 ) && (dy >= -1 && dy <= 1)\n\n  }\n  \n}\n","import { Cell } from \"../Cell\";\nimport { Colors } from \"../Colors\";\nimport { ChessPiece } from \"./ChessPiece\";\nimport { ChessPieceName } from \"../interfaces/uiInterfaces\";\nexport class Knight extends ChessPiece {\n    // black img\n    black = 'assets/black-knight.png';\n    // white img\n    white = 'assets/white-knight.png';\n\n    constructor(color: Colors, cell: Cell) {\n        super(color, cell);\n        this.ChessPieceLogo = color === Colors.black ? this.black : this.white\n        this.ChessPieceName = ChessPieceName.Knight\n      }\n      \n      canMove(target: Cell): boolean {\n        if(!super.canMove(target))\n          return false\n        \n        const dx = Math.abs(this.cell.x - target.x)\n        const dy = Math.abs(this.cell.y - target.y)\n\n        return (dx === 1 && dy === 2) || (dx === 2 && dy === 1)\n      }\n}\n","import { Cell } from \"../Cell\";\nimport { Colors } from \"../Colors\";\nimport { ChessPiece } from \"./ChessPiece\";\nimport { ChessPieceName } from \"../interfaces/uiInterfaces\";\nexport class Pawn extends ChessPiece {\n  // black img\n  black = 'assets/black-pawn.png';\n  // white img\n  white = 'assets/white-pawn.png';\n\n  private isFirstStep: boolean = true\n\n    constructor(color: Colors, cell: Cell) {\n        super(color, cell);\n        this.ChessPieceLogo = color === Colors.black ? this.black : this.white\n        this.ChessPieceName = ChessPieceName.Pawn\n      }\n\n      canMove(target: Cell): boolean {\n        if(!super.canMove(target))\n          return false\n\n        const direction = this.cell.chessPiece?.color === Colors.black ? 1 : -1\n        const firstStepDirection = this.cell.chessPiece?.color === Colors.black ? 2 : -2\n\n        if ((target.y === this.cell.y + direction || (this.isFirstStep && (target.y === this.cell.y + firstStepDirection)))\n          && target.x === this.cell.x\n          && this.cell.board.getCell(target.x, target.y).isEmpty()) {\n            return true;\n        }\n      \n        if(target.y === this.cell.y + direction\n          && (target.x === this.cell.x + 1 || target.x === this.cell.x - 1)\n          && this.cell.isEnemy(target)) {\n            return true;\n          }\n  \n        return false\n      }\n\n      moveChessPiece(target: Cell): void {\n        super.moveChessPiece(target)\n        this.isFirstStep = false\n        console.log(this.cell.chessPiece?.color, this.color);\n\n      }\n}\n","import { Cell } from \"../Cell\";\nimport { Colors } from \"../Colors\";\nimport { ChessPiece } from \"./ChessPiece\";\nimport { ChessPieceName } from \"../interfaces/uiInterfaces\";\nexport class Queen extends ChessPiece {\n    // black img\n    black = 'assets/black-queen.png';\n    // white img\n    white = 'assets/white-queen.png';\n\n    constructor(color: Colors, cell: Cell) {\n        super(color, cell);\n        this.ChessPieceLogo = color === Colors.black ? this.black : this.white\n        this.ChessPieceName = ChessPieceName.Queen\n      }\n\n      canMove(target: Cell): boolean {\n        if(!super.canMove(target))\n        return false;\n        if(this.cell.isEmptyVertical(target))\n          return true;\n        if(this.cell.isEmptyHorizontal(target))\n          return true;\n        if(this.cell.isEmptyDiagonal(target))\n          return true;\n        return false\n      }\n}\n","import { Cell } from \"../Cell\";\nimport { Colors } from \"../Colors\";\nimport { ChessPiece } from \"./ChessPiece\";\nimport { ChessPieceName } from \"../interfaces/uiInterfaces\";\nexport class Rook extends ChessPiece {\n    // black img\n    black = 'assets/black-queen.png';\n    // white img\n    white = 'assets/white-queen.png';\n  \n    constructor(color: Colors, cell: Cell) {\n        super(color, cell);\n        this.ChessPieceLogo = color === Colors.black ? this.black : this.white\n        this.ChessPieceName = ChessPieceName.Rook\n      }\n\n      canMove(target: Cell): boolean {\n        if(!super.canMove(target))\n          return false\n        if(this.cell.isEmptyVertical(target))\n          return true;\n        if(this.cell.isEmptyHorizontal(target))\n          return true;\n        return false\n      }\n}\n","import { Cell } from './Cell';\nimport { Colors } from './Colors';\nimport { Bishop } from './figures/Bishop';\nimport { ChessPiece } from './figures/ChessPiece';\nimport { King } from './figures/King';\nimport { Knight } from './figures/Knight';\nimport { Pawn } from './figures/Pawn';\nimport { Queen } from './figures/Queen';\nimport { Rook } from './figures/Rook';\n\nexport class Board {\n  /**\n   * Array of all cells on the board\n   */\n  cells: Cell[][] = [];\n\n  /**\n   * Array of lost black Chess Pieces\n   */\n  lostBlack: ChessPiece[] = []\n\n  /**\n   * Array of lost white Chess Pieces\n   */\n  lostWhite: ChessPiece[] = []\n\n  /**\n   * Amount  of rows on the board\n  */\n  private rows: number = 8;\n\n  /**\n   * Amount  of columns on the board\n  */\n  private columns: number = 8;\n\n  /**\n   * Initialize all Cells on the board and color it\n  */\n  public initCells() {    \n    for (let i = 0; i < this.rows; i++) {\n      const row: Cell[] = [];\n      for (let k = 0; k < this.columns; k++) {\n        if ((i + k) % 2 !== 0) {\n          // Black Cell\n          row.push(new Cell(this, k, i, Colors.black, null));\n        } else {\n          // White Cell\n          row.push(new Cell(this, k, i, Colors.white, null));\n        }\n      }\n      this.cells.push(row);\n    }\n  }\n\n  /**\n   * Highlights the cells that are available for moving\n   * \n   * @param selectedCell selected cell with chess piece\n   */\n  public highlightCells(selectedCell: Cell | null ){\n    for (let i = 0; i < this.cells.length; i++) {\n      const row = this.cells[i]\n      for (let k = 0; k < row.length; k++) {\n        const target = row[k]    \n        target.available = !!selectedCell?.chessPiece?.canMove(target)  \n      }\n    }\n  }\n\n\n  public getCopyBoard (): Board {\n    const newBoard = new Board()\n    newBoard.cells = this.cells\n    return newBoard\n  }\n\n  addLostFigure(chessPiece: ChessPiece){\n    if(chessPiece.color === Colors.black){\n       this.lostBlack.push(chessPiece)\n    }else{\n       this.lostWhite.push(chessPiece)\n    }\n }\n\n\n\n  /**\n   * Set cell for chess piece\n   * @param x \n   * @param y \n   * @returns \n   */\n  public getCell(x: number, y:number){\n    return this.cells[y][x]\n  }\n\n  /**\n   * Method add 8 white and 8 black pawns\n   */\n  private addPawns(){\n    for (let i = 0; i < 8; i++) {\n      new Pawn(Colors.black, this.getCell(i, 1))\n      new Pawn(Colors.white,  this.getCell(i, 6))\n    }\n  }\n\n  /**\n   * Method adds 2 Kings\n   */\n  private addKings(){\n    new King(Colors.black, this.getCell(4, 0))\n    new King(Colors.white,  this.getCell(4, 7))\n  }\n\n  /**\n   * Method adds 2 Queens\n   */\n  private addQueens(){\n    new Queen(Colors.black, this.getCell(3, 0))\n    new Queen(Colors.white,  this.getCell(3, 7))\n  }\n\n  /**\n   * Method adds 4 Bishops\n   */\n  private addBishops(){\n    new Bishop(Colors.black, this.getCell(2, 0))\n    new Bishop(Colors.black, this.getCell(5, 0))\n    new Bishop(Colors.white,  this.getCell(5, 7))\n    new Bishop(Colors.white,  this.getCell(2, 7))\n  }\n\n  /**\n   * Method adds 4 Knights\n   */\n  private addKnights(){\n    new Knight(Colors.black, this.getCell(1, 0))\n    new Knight(Colors.black, this.getCell(6, 0))\n    new Knight(Colors.white,  this.getCell(1, 7))\n    new Knight(Colors.white,  this.getCell(6, 7))\n  }\n\n  /**\n   * Method adds 4 Rooks\n   */\n  private addRooks(){\n    new Rook(Colors.black, this.getCell(0, 0))\n    new Rook(Colors.black, this.getCell(7, 0))\n    new Rook(Colors.white,  this.getCell(0, 7))\n    new Rook(Colors.white,  this.getCell(7, 7))\n  }\n\n  /**\n   * Classic Chess setup \n   */\n  public initClassicChess (){\n    this.addKings()\n    this.addQueens()\n    this.addBishops()\n    this.addKnights()\n    this.addRooks()\n    this.addPawns()\n    \n  }\n\n  // public initFischerChess (){\n  //   this.addKings()\n  //   this.addQueens()\n  //   this.addBishops()\n  //   this.addKnights()\n  //   this.addRooks()\n  //   this.addPawns()\n  // }\n\n}\n","import { Colors } from \"./Colors\";\n\nexport class Player {\n\n    color: Colors\n\n    constructor(color: Colors) {\n        this.color = color;\n      }\n}\n","/* eslint-disable jsx-a11y/alt-text */\nimport React, { FC } from 'react';\nimport { CellProps } from '../models/interfaces/uiInterfaces';\n\nconst CellComponent: FC<CellProps> = ({ cell, selected, click}) =>{\n\n  return (\n    <div className={[\n        'cell', \n        cell.color, \n        selected && \"selected\",\n        (cell.available && cell.chessPiece) && 'eatable'\n      ].join(' ')} \n      onClick={()=>click(cell)}\n      // style={{background: cell.available && cell.chessPiece ? 'green' : ''}}\n    >\n     { !cell.chessPiece && cell.available && <div className='available'></div>}\n      {cell.chessPiece?.ChessPieceLogo && <img src={cell.chessPiece.ChessPieceLogo} />}\n\n    </div>\n  )\n};\n\nexport default CellComponent;\n","import React, { FC, useState } from 'react';\nimport { useEffect } from 'react';\nimport { Cell } from '../models/Cell';\nimport { BoardProps } from '../models/interfaces/uiInterfaces';\nimport CellComponent from './CellComponent';\n\nconst BoardComponent: FC<BoardProps> = ({ board, setBoard, currentPlayer, swapPlayer }) => {\n\n  const [selectedCell, setSelectedCell] = useState<Cell | null>(null)\n \n  const clickCellHandler = (cell: Cell) => {    \n    if(selectedCell && selectedCell !== cell && selectedCell?.chessPiece?.canMove(cell)){\n      selectedCell.moveChessPiece(cell)\n      swapPlayer()\n      setSelectedCell(null)\n    } else {\n      if(cell.chessPiece?.color === currentPlayer?.color)\n        setSelectedCell(cell)\n    }\n  }\n\n  useEffect(()=>{\n    highlightCell()\n  }, [selectedCell])\n\n\n  const highlightCell = () => {\n    board.highlightCells(selectedCell)\n    updateBoard()\n  }\n\n  const updateBoard = () => {\n    const newBoard = board.getCopyBoard()\n    setBoard(newBoard)\n  }\n\n  return (\n\n    <div>\n      <h3> Current Player: {currentPlayer?.color} </h3>\n      <div className=\"board\">\n        {board.cells.map((row, index) => (\n          <React.Fragment key={index}>\n            {row.map(((cell) => (\n              <CellComponent  \n              click={clickCellHandler}\n              key={cell.id} \n              cell={cell} \n              selected={cell.x === selectedCell?.x && cell.y === selectedCell?.y}/>\n              )))}\n          </React.Fragment>\n        ))}\n      </div>\n    </div>\n  );\n}\nexport default BoardComponent;\n","import React, { useEffect, useState } from 'react';\nimport { Board } from './models/Board';\nimport { Player } from './models/Player';\nimport { Colors } from './models/Colors';\n\nimport BoardComponent from './Components/BoardComponent';\n\nimport './App.css';\n\nfunction App() {\n  const [board, setBoard] = useState(new Board());\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [whitePlayer, setWhitePlayer] = useState(new Player(Colors.white));\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [blackPlayer, setBlackPlayer] = useState(new Player(Colors.black));\n  const [currentPlayer, setCurrentPlayer] = useState<Player | null> (null)\n\n  useEffect(() => {\n    startNewGame();\n    setCurrentPlayer(whitePlayer)\n  }, []);\n\n  /**\n   * Start new game and init new Board\n   */\n  function startNewGame() {\n    const newBoard = new Board();\n    newBoard.initCells();\n    newBoard.initClassicChess()\n    setCurrentPlayer(whitePlayer)\n    setBoard(newBoard);\n  }\n\n  function swapPlayer() {\n    setCurrentPlayer(currentPlayer?.color  === Colors.white ? blackPlayer : whitePlayer)\n  }\n\n  return ( \n    \n    <div className=\"app\">\n      <div>\n        <button className='restart' onClick={startNewGame}>Restart</button>\n        <BoardComponent \n        board={board} \n        setBoard={setBoard} \n        currentPlayer = {currentPlayer}\n        swapPlayer = {swapPlayer}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}